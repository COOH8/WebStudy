<!DOCTYPE html>
<html lang="en">
<meta charset="UTF-8">
<title>缓冲动画升级版</title>
<style>
    .box {
        background-color: pink;
        width: 100px;
        height: 100px;
        position: absolute;
    }
</style>

<body>
    <div class="box"></div>
    <script>
        let box = document.querySelector('.box')
        /**
        * @description:任意元素的缓冲动画
        * @param {element} 传入的元素
        * @param {number} target 目标位置
        * @return:
        */
        function animationMove(ele, target) {
            let timeID = setInterval(function () {
                let currentPos = ele.offsetLeft
                if (target >= currentPos) {
                    //向右移动
                    let step = (target - currentPos) / 10
                    currentPos += step
                    currentPos = Math.ceil(currentPos)
                    ele.style.left = currentPos + 'px'
                    if(currentPos>=target){
                        clearInterval(timeID)
                        ele.style.left = target + 'px'
                    }
                }else{
                        //向左移动
                        let step = (currentPos - target)/10
                        currentPos -= step
                        currentPos = Math.floor(currentPos)
                        ele.style.left = currentPos + 'px'
                        if(target>=currentPos){
                            clearInterval(timeID)
                            ele.style.left = target + 'px'
                        }
                    }
            }, 20)
        }
    </script>
</body>

</html>